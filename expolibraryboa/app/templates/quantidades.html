<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gerenciamento de Livros</title>
</head>
<body>
    <h1>Gerenciamento de Livros</h1>

    <h2>Adicionar Novo Livro</h2>
    <form action="/" method="POST">
        <label>TÃ­tulo:</label>
        <input type="text" name="Titulo" required><br>
        <label>Autor:</label>
        <input type="text" name="Autor" required><br>
        <label>Ano:</label>
        <input type="number" name="Ano" required><br>
        <label>Categoria:</label>
        <input type="text" name="Categoria" required><br>
        <label>Sub Categoria:</label>
        <input type="text" name="Sub_Categoria" required><br>
        <label>Linguagem:</label>
        <input type="text" name="Linguagem" required><br>
        <label>Material:</label>
        <input type="text" name="Material" required><br>
        <label>Imagem (URL):</label>
        <input type="text" name="Imagem" required><br>
        <label>Quantidade em Stock:</label>
        <input type="number" name="Quantidade" required><br>
        <button type="submit" name="add_book">Adicionar Livro</button>
    </form>

    <hr>

    <h2>Atualizar Quantidade em Stock</h2>
    <form action="/" method="POST">
        <label>Selecione o Livro:</label>
        <select name="livro_index" required>
            {% for index, livro in enumerate(items) %}
                <option value="{{ index }}">{{ livro['Titulo'] }}</option>
            {% endfor %}
        </select><br>
        <label>Nova Quantidade:</label>
        <input type="number" name="nova_quantidade" required><br>
        <button type="submit" name="update_stock">Atualizar Quantidade</button>
    </form>

    <hr>

    <h2>Livros Registrados</h2>
    <ul>
        {% for livro in items %}
            <li>
                <strong>{{ livro['Titulo'] }}</strong> por {{ livro['Autor'] }} ({{ livro['Ano'] }})<br>
                Categoria: {{ livro['Categoria'] }} - {{ livro['Sub_Categoria'] }}<br>
                Linguagem: {{ livro['Linguagem'] }}<br>
                Material: {{ livro['Material'] }}<br>
                Quantidade em Stock: {{ livro['Quantidade'] }}<br>
                <img src="{{ livro['Imagem'] }}" alt="Capa do Livro">
            </li>
        {% endfor %}
    </ul>
</body>
</html>
